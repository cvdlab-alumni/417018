  var domain1 = INTERVALS(1)(30);
  var domain2 = DOMAIN([[0,1],[0,1]])([20,30]);

 // var p0 = [[0,0,0],[2,0.1,0],[1.9,0.2,0],[1.7,0.3,0],[1.4,0.5,0],[0,0,0]];
 var p0 = [[0,0,0],[2,0.1,0],[1.9,0.2,0],[1.7,0.3,0],[1.4,0.3,0],[0.8,0.2,0],[0.4,0.1,0],[0,0,0]];
  var p1 = p0.map(function(p) {return [p[0],p[1],p[2]+1]});
  var p2 = p0.map(function(p) {return [p[0],p[1],p[2]+2]});
  var p3 = p0.map(function(p) {return [p[0],p[1],p[2]+3]});
  var p4 = p0.map(function(p) {return [p[0],p[1],p[2]+4.3]}); 
 // var p5 = [[1.2,0,6],[2,0.2,6]];

  var c0 = BEZIER(S0)(p0);
  var c1 = BEZIER(S0)(p1);
  var c2 = BEZIER(S0)(p2);
  var c3 = BEZIER(S0)(p3);
  var c4 = BEZIER(S0)(p4);
 // var c5 = BEZIER(S0)(p5);

  //var curves = STRUCT(CONS(AA(MAP)([c0,c1,c2,c3,c4]))(domain1));
  //DRAW(curves);

  var wing = BEZIER(S1)([c0,c1,c2,c3,c4]);
  var surf = MAP(wing)(domain2);
  var wing2 = T([0,1])([0.5,1])(surf);
  var wing3 = T([0,1])([0.5,1])(wing2);
  var point = [[1.4,0.15,3],[1.5,0.15,3.2],[1.7,0.15,3.5],[1.3,0.15,3.3],[1.4,0.15,3]]
  var point1 = point.map(function(p) {return [p[0],p[1]+0.2,p[2]]});
  var point2 = point.map(function(p) {return [p[0],p[1]+0.5,p[2]]});
  var point3 = point.map(function(p) {return [p[0],p[1]+0.7,p[2]]});
  var point4 = point.map(function(p) {return [p[0],p[1]+1,p[2]]});
  var co0 = BEZIER(S0)(point);
  var co1 = BEZIER(S0)(point1);
  var co2 = BEZIER(S0)(point2);
  var co3 = BEZIER(S0)(point3);
  var co4 = BEZIER(S0)(point4);
  var pillar = BEZIER(S1)([co0,co1,co2,co3,co4]);
  var pillarMapped = MAP(pillar)(domain2);
  pillarMapped=T([0])([-0.3])(pillarMapped);
  var pillar1= T([0,1,2])([0.5,1,-2])(pillarMapped);
  var pillar2= T([0,1])([0.5,1])(pillarMapped);
  var pillar3= T([2])([-2])(pillarMapped);
  pillars=STRUCT([pillarMapped,pillar1,pillar2,pillar3]);
  //pillars1=T([0,1])([0.5,1])(pillars);
  surf1=STRUCT([surf,wing2,wing3,pillars]);
  surf2=T([2])([-3,7])(surf1);
  var surf3=STRUCT([surf1,surf2]);
  var piece= SIMPLEX_GRID([[3.2],[1],[1.5]]);
var piece1=SIMPLEX_GRID([[3.5],[0.4],[1.5]]);
piece1=T([0,1])([-3.5,0.6])(piece1);
var point = [[0,0.6,0],[1,0.4,0],[2,0.2,0],[3.5,0,0]];
 var point1 = point.map(function(p) {return [p[0],p[1],p[2]+1.5]});
  var point2 = point.map(function(p) {return [p[0],p[1],p[2]+1.5]});
  var point3 = point.map(function(p) {return [p[0],p[1],p[2]+1.5]});
  var point4 = point.map(function(p) {return [p[0],p[1],p[2]+1.5]});
    var co0 = BEZIER(S0)(point);
  var co1 = BEZIER(S0)(point1);
  var co2 = BEZIER(S0)(point2);
  var co3 = BEZIER(S0)(point3);
  var co4 = BEZIER(S0)(point4);
  var retro = BEZIER(S1)([co0,co1,co2,co3,co4]);
var dominio = INTERVALS(1)(30);
var domain2 = DOMAIN([[0,1],[0,1]])([20,30]);
var co0 = BEZIER(S0)(point);
var out=MAP(co0)(dominio);
var co1=T([2])([1.5])(out);
 var retroMapped = MAP(retro)(domain2);
 retroMapped=T([0])([-3.5])(retroMapped);
 var points = [[0,0.6],[3.5,0.6],[3.5,0]];
var cells = [[0,1,2]];
var simpli = SIMPLICIAL_COMPLEX(points)(cells);
var points1 = [[0,0.6,1.5],[3.5,0.6,1.5],[3.5,0,1.5]];
var cells = [[0,1,2]];
var simpli1 = SIMPLICIAL_COMPLEX(points1)(cells);
simpli=T([0])([-3.5])(simpli);
simpli1=T([0])([-3.5])(simpli1);
var control = [[0,0,0],[0.2,0,0.2],[0.4,0,0],[0.2,0,-0.2],[0,0,0]];
var control1 = control.map(function(p) {return [p[0]-0.2,p[1]-0.3,p[2]]});
  var control2 = control.map(function(p) {return [p[0]-0.3,p[1]-0.6,p[2]]});
  var control3 = control.map(function(p) {return [p[0]-0.5,p[1]-0.8,p[2]]});
  var control4 = control.map(function(p) {return [p[0]-0.6,p[1]-1.2,p[2]]});
  var curve0 = BEZIER(S0)(control);
  var curve1 = BEZIER(S0)(control1);
  var curve2 = BEZIER(S0)(control2);
  var curve3 = BEZIER(S0)(control3);
  var curve4 = BEZIER(S0)(control4);
   var sostegno = BEZIER(S1)([curve0,curve1,curve2,curve3,curve4]);
   var sostegnoMapped = MAP(sostegno)(domain2);
   var sostegno1 = T([0,2])([2.7,1.1])(sostegnoMapped);
   var sostegno2 = T([0,2])([2.7,0.4])(sostegnoMapped);
   var sostegno3 =ROTATE([0,2])(PI)(sostegnoMapped);
      var sostegno4 = T([0,2])([1.75,0.4])(sostegno3);
   sostegno3 = T([0,2])([1.75,1.1])(sostegno3);
   var sostegni= STRUCT([sostegno2,sostegno1,sostegno3,sostegno4]);
var fusoliera=STRUCT([simpli,simpli1,piece1,piece,retroMapped,sostegni]);
var p0=[[0,0,0],[0.1,0,2],[0.2,0,2.4],[1.5,0,2],[1.5,0,1.4]];
var p1=[[1.5,0,1.4],[1.5,0,1],[1.5,0,0.7],[1.5,0,0.5],[1.5,0,0.4],[1.5,0,0.3],[1.3,0,0.2],[0.9,0,0.1],[0.8,0,0],[0,0,0]];
var p2=[[0,0,0],[0.1,0,-2],[0.2,0,-2.4],[1.5,0,-2],[1.5,0,-1.4]];
var p3=[[1.5,0,-1.4],[1.5,0,-1],[1.5,0,-0.7],[1.5,0,-0.5],[1.5,0,-0.4],[1.5,0,-0.3],[1.3,0,-0.2],[0.9,0,-0.1],[0.8,0,0],[0,0,0]];
  var curve0 = BEZIER(S0)(p0);
  var curve1 = BEZIER(S0)(p2);
  var curve2 = BEZIER(S0)(p1);
  var curve3 = BEZIER(S0)(p3);
  var stabilizzatore =  CUBIC_HERMITE(S1)([curve0,curve2,[0,0.5,0],[0,-0.5,0]])
  var stabilizzatore2 =  CUBIC_HERMITE(S1)([curve0,curve2,[0,-0.5,0],[0,0.5,0]])
  //var s12h = CUBIC_HERMITE(S1)([c1,c2,[0,0,3],[0,0,-3]]);
  //var stabilizzatore1 = BEZIER(S1)([curve1,curve3]);
   var stabilizzatore1 =  CUBIC_HERMITE(S1)([curve1,curve3,[0,0.5,0],[0,-0.5,0]])
   var stabilizzatore3 =  CUBIC_HERMITE(S1)([curve1,curve3,[0,-0.5,0],[0,0.5,0]])
  var dominio = INTERVALS(1)(30);
var domain2 = DOMAIN([[0,1],[0,1]])([20,30]);
   var stabilizzatoreMapped = MAP(stabilizzatore)(domain2);
   var stabilizzatore1Mapped = MAP(stabilizzatore1)(domain2);
   var stabilizzatore2Mapped = MAP(stabilizzatore2)(domain2);
   var stabilizzatore3Mapped = MAP(stabilizzatore3)(domain2);
   var points=[[0,0,0],[-0.5,-0.3,0],[-0.7,-0.5,0],[-1,-0.3,0],[-1.5,0,0]];
   var points1=[[-1.5,0,0],[-1.7,0.2,0],[-1.8,0.3,0],[-1.3,3,0],[-1,2,0],[0,0,0]]
   var c0=BEZIER(S0)(points);
   var c1=BEZIER(S0)(points1);
    var s =  CUBIC_HERMITE(S1)([c0,c1,[0,0,0.5],[0,0,-0.5]]);
    var s1 =  CUBIC_HERMITE(S1)([c0,c1,[0,0,-0.5],[0,0,0.5]]);
   var sMapped=MAP(s)(domain2);
   var s1Mapped=MAP(s1)(domain2);
   var stabilizzatori=STRUCT([stabilizzatoreMapped,stabilizzatore1Mapped,stabilizzatore2Mapped,stabilizzatore3Mapped]);
   stabilizzatori =ROTATE([0,2])(PI)(stabilizzatori);
   stabilizzatori=STRUCT([stabilizzatori,sMapped,s1Mapped]);
stabilizzatori=T([0,1,2])([-3.5,1,0.75])(stabilizzatori);
var ruota = TORUS_SURFACE([0.1, 0.2])([12,8]);
var ruota1=T([0,1,2])([2.2,-1.2,0.3])(ruota);
var ruota2=T([0,1,2])([2.2,-1.2,1.2])(ruota);
var plane =STRUCT([surf3,fusoliera,stabilizzatori,ruota1,ruota2]);
DRAW(plane);